#!/usr/bin/env bash

# See 'usage' below.

set -e # exit on error
set -u # treat unset vars as errors
# set -x # debugging output
set -o pipefail

function print_error {
    read line file <<<$(caller)
    echo "An error occurred in line $line of file $file:" >&2
    sed "${line}q;d" "$file" >&2
}
trap print_error ERR

function usage {
    echo "Usage: md2html [args]"
    echo "Forwards [args] to pandoc conversion of markdown to HTML."
}

# Command line args

css="$HOME/.config/watch-markdown/style.css"
pandoc --from markdown --to html --self-contained -c "${css}" "$@"

